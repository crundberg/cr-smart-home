sudo: required
language: python
python:
  - "2.6"
  - "2.7"
services:
  - mysql
before_install:
  - sudo apt-get update
  - sudo apt-get install python2.7-mysqldb -y
  - sudo apt-get install python-dev libboost-python-dev python-pip -y
  - sudo apt-get install build-essential python-openssl -y
  - sudo apt-get build-dep python-mysqldb -y
  - sudo pip install w1thermsensor
  - sudo pip install Flask
  - sudo pip install flask-httpauth
  - sudo pip install MySQL-python
  
  - git clone git://git.drogon.net/wiringPi
  - cd wiringPi
  - ./build
  
  - cd ..
  - git clone https://github.com/lexruee/pi-switch-python.git
  - cd pi-switch-python
  - sudo python setup.py install

  #- cd ..
  #- git clone https://github.com/adafruit/Adafruit_Python_DHT.git
  #- cd Adafruit_Python_DHT
  #- sudo python setup.py install
script:
  - cd $TRAVIS_BUILD_DIR/tests
  - mysql -u root mysql < database.sql
  - nosetests UnitTest.py